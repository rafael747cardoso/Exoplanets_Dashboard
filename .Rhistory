nbinsx = nbins,
color = "#813DDA",
colors = "#813DDA",
opacity = 0.9,
hovertemplate = paste0("<b>Counts: %{y:,}<br>",
x_var_name, ": %{x:,}</b><extra></extra>")
) %>%
layout(
xaxis = list(
title = paste0("<b>", x_var_name, "</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
categoryorder = "array",
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
yaxis = list(
title = paste0("<b>Counts</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
title = list(
text = title_stats
),
margin = list(
l = 10,
r = 10,
t = 60,
b = 10
),
hoverlabel = list(
font = list(
size = 18
)
),
plot_bgcolor = "rgba(0, 0, 0, 0)",
paper_bgcolor = "rgba(0, 0, 0, 0)",
showlegend = FALSE
)
customdata_cols = c("x_mean", "x_median", "x_std", "x_skewness")
df[customdata_cols]
plot_ly(
data = df,
x = ~eval(parse(text = x_var)),
type = "histogram",
histfunc = "count",
histnorm = "",
nbinsx = nbins,
color = "#813DDA",
colors = "#813DDA",
opacity = 0.9,
hovertemplate = paste0("<b>Counts: %{y:,}<br>",
x_var_name, ": %{x:,}</b><extra></extra>"),
customdata = df[customdata_cols]
) %>%
layout(
xaxis = list(
title = paste0("<b>", x_var_name, "</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
categoryorder = "array",
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
yaxis = list(
title = paste0("<b>Counts</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
title = list(
text = title_stats
),
margin = list(
l = 10,
r = 10,
t = 60,
b = 10
),
hoverlabel = list(
font = list(
size = 18
)
),
plot_bgcolor = "rgba(0, 0, 0, 0)",
paper_bgcolor = "rgba(0, 0, 0, 0)",
showlegend = FALSE
)
customdata_cols = c(x_mean, x_median, x_std, x_skewness)
customdata = c(x_mean, x_median, x_std, x_skewness)
plot_ly(
data = df,
x = ~eval(parse(text = x_var)),
type = "histogram",
histfunc = "count",
histnorm = "",
nbinsx = nbins,
color = "#813DDA",
colors = "#813DDA",
opacity = 0.9,
hovertemplate = paste0("<b>Counts: %{y:,}<br>",
x_var_name, ": %{x:,}</b><extra></extra>"),
customdata = customdata
) %>%
layout(
xaxis = list(
title = paste0("<b>", x_var_name, "</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
categoryorder = "array",
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
yaxis = list(
title = paste0("<b>Counts</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
title = list(
text = title_stats
),
margin = list(
l = 10,
r = 10,
t = 60,
b = 10
),
hoverlabel = list(
font = list(
size = 18
)
),
plot_bgcolor = "rgba(0, 0, 0, 0)",
paper_bgcolor = "rgba(0, 0, 0, 0)",
showlegend = FALSE
)
title_stats = paste0("<b style = 'color: #c70039'>Mean</b>: %{", x_mean, ":.5g}       ",
"<b style = 'color: #ffc300'>Median</b>: %{", x_median, ":.5g}       ",
"<b>Standard deviation</b>: %{", x_std, ":.3g}       ",
"<b>Skewness</b>: %{", x_skewness, ":.2g}       ")
plot_ly(
data = df,
x = ~eval(parse(text = x_var)),
type = "histogram",
histfunc = "count",
histnorm = "",
nbinsx = nbins,
color = "#813DDA",
colors = "#813DDA",
opacity = 0.9,
hovertemplate = paste0("<b>Counts: %{y:,}<br>",
x_var_name, ": %{x:,}</b><extra></extra>")
) %>%
layout(
xaxis = list(
title = paste0("<b>", x_var_name, "</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
categoryorder = "array",
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
yaxis = list(
title = paste0("<b>Counts</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
title = title_stats,
margin = list(
l = 10,
r = 10,
t = 60,
b = 10
),
hoverlabel = list(
font = list(
size = 18
)
),
plot_bgcolor = "rgba(0, 0, 0, 0)",
paper_bgcolor = "rgba(0, 0, 0, 0)",
showlegend = FALSE
)
runApp()
runApp()
runApp()
plot_ly(
data = df,
x = ~eval(parse(text = x_var)),
type = "histogram",
histfunc = "count",
histnorm = "",
nbinsx = nbins,
color = "#813DDA",
colors = "#813DDA",
opacity = 0.9,
hovertemplate = paste0("<b>Counts: %{y:,}<br>",
x_var_name, ": %{x:,}</b><extra></extra>")
) %>%
layout(
shapes = list(
type = "line",
xref = "paper",
x0 = x_mean,
x1 = x_mean,
y0 = 0,
y1 = 1,
line = list(
color = "#c70039"
)
),
shapes = list(
type = "line",
xref = "paper",
x0 = x_median,
x1 = x_median,
y0 = 0,
y1 = 1,
line = list(
color = "#ffc300"
)
),
xaxis = list(
title = paste0("<b>", x_var_name, "</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
categoryorder = "array",
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
yaxis = list(
title = paste0("<b>Counts</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
title = title_stats,
margin = list(
l = 10,
r = 10,
t = 60,
b = 10
),
hoverlabel = list(
font = list(
size = 18
)
),
plot_bgcolor = "rgba(0, 0, 0, 0)",
paper_bgcolor = "rgba(0, 0, 0, 0)",
showlegend = FALSE
)
runApp()
plot_ly(
data = df,
x = ~eval(parse(text = x_var)),
type = "histogram",
histfunc = "count",
histnorm = "",
nbinsx = nbins,
color = "#813DDA",
colors = "#813DDA",
opacity = 0.9,
hovertemplate = paste0("<b>Counts: %{y:,}<br>",
x_var_name, ": %{x:,}</b><extra></extra>")
) %>%
layout(
shapes = list(
vline(
x = x_mean,
color = "#c70039"
),
vline(
x = x_median,
color = "#c70039"
)
),
xaxis = list(
title = paste0("<b>", x_var_name, "</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
categoryorder = "array",
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
yaxis = list(
title = paste0("<b>Counts</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
title = title_stats,
margin = list(
l = 10,
r = 10,
t = 60,
b = 10
),
hoverlabel = list(
font = list(
size = 18
)
),
plot_bgcolor = "rgba(0, 0, 0, 0)",
paper_bgcolor = "rgba(0, 0, 0, 0)",
showlegend = FALSE
)
plot_ly(
data = df,
x = ~eval(parse(text = x_var)),
type = "histogram",
histfunc = "count",
histnorm = "",
nbinsx = nbins,
color = "#813DDA",
colors = "#813DDA",
opacity = 0.9,
hovertemplate = paste0("<b>Counts: %{y:,}<br>",
x_var_name, ": %{x:,}</b><extra></extra>")
) %>%
layout(
shapes = list(
vline(
x = x_mean,
color = "#c70039"
),
vline(
x = x_median,
color = "#c70039"
)
),
xaxis = list(
title = paste0("<b>", x_var_name, "</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
categoryorder = "array",
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
yaxis = list(
title = paste0("<b>Counts</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
title = title_stats,
margin = list(
l = 10,
r = 10,
t = 60,
b = 10
),
hoverlabel = list(
font = list(
size = 18
)
),
plot_bgcolor = "rgba(0, 0, 0, 0)",
paper_bgcolor = "rgba(0, 0, 0, 0)",
showlegend = FALSE
)
list(
type = "line",
y0 = 0,
y1 = 1,
yref = "paper",
x0 = x,
x1 = x,
line = list(color = color)
)
vline = function(x = 0,
color) {
list(
type = "line",
y0 = 0,
y1 = 1,
yref = "paper",
x0 = x,
x1 = x,
line = list(color = color)
)
}
plot_ly(
data = df,
x = ~eval(parse(text = x_var)),
type = "histogram",
histfunc = "count",
histnorm = "",
nbinsx = nbins,
color = "#813DDA",
colors = "#813DDA",
opacity = 0.9,
hovertemplate = paste0("<b>Counts: %{y:,}<br>",
x_var_name, ": %{x:,}</b><extra></extra>")
) %>%
layout(
shapes = list(
vline(
x = x_mean,
color = "#c70039"
),
vline(
x = x_median,
color = "#c70039"
)
),
xaxis = list(
title = paste0("<b>", x_var_name, "</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
categoryorder = "array",
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
yaxis = list(
title = paste0("<b>Counts</b>"),
titlefont = list(
size = 20
),
tickfont = list(
size = 18
),
color = "white",
gridcolor = "rgba(255, 255, 255, 0.3)"
),
title = title_stats,
margin = list(
l = 10,
r = 10,
t = 60,
b = 10
),
hoverlabel = list(
font = list(
size = 18
)
),
plot_bgcolor = "rgba(0, 0, 0, 0)",
paper_bgcolor = "rgba(0, 0, 0, 0)",
showlegend = FALSE
)
runApp()
